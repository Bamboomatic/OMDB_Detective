{"version":3,"sources":["MovieItem.js","Wishlist.js","App.js","index.js"],"names":["MovieItem","className","alt","src","this","props","movie","Poster","onError","e","target","onerror","Title","Year","id","imdbID","type","onClick","favAddHandler","React","Component","Wishlist","fav","Director","imdbRating","Genre","Plot","favDelHandler","App","state","movieTitle","page","numberOfPages","currentID","movies","favs","apikey","cookies","wishlistOn","searchHandler","bind","updateInput","loadMoreHandler","generateWishlist","setState","value","preventDefault","searchMovie","console","log","Cookies","set","expires","remove","fetch","then","resp","json","movieSearchResults","result","Search","forEach","movieItem","key","push","Math","ceil","totalResults","catch","err","error","nextPageFunc","moreMovies","moreMovieItems","favDelAddHandler","concat","Object","values","get","movieID","favItem","icon","faSearch","size","faHeart","wishlistVisibilityHandler","ref","onSubmit","placeholder","onChange","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ab0e4a6d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nclass MovieItem extends React.Component {\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return <div className=\"movie\">\r\n            <img alt=\"movie poster\" src={this.props.movie.Poster} onError={(e) => { e.target.onerror = null; e.target.src = \"https://www.auro-3d.com/wp-content/uploads/2016/08/no-poster-available.jpg\" }} className=\"movie-poster\" />\r\n            <div className=\"movie-description\">\r\n                <h2>{this.props.movie.Title}</h2>\r\n                <h4>{this.props.movie.Year}</h4>\r\n                <button className=\"tooltip\" id={this.props.movie.imdbID} type=\"button\" onClick={this.props.favAddHandler}>Add to Wishlist</button>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default MovieItem","import React from 'react'\r\n\r\nclass Wishlist extends React.Component {\r\n\r\n    render() {\r\n        return <div className=\"fav-movie\">\r\n            <img alt=\"movie poster\" src={this.props.fav.Poster} onError={(e) => { e.target.onerror = null; e.target.src = \"https://www.auro-3d.com/wp-content/uploads/2016/08/no-poster-available.jpg\" }} className=\"fav-movie-poster\" />\r\n            <div className=\"fav-movie-description\">\r\n                <h3>{this.props.fav.Title}</h3>\r\n                <h5>{this.props.fav.Year}</h5>\r\n                <h5><b>Director: </b>{this.props.fav.Director}</h5>\r\n                <h5><b>IMDB rating: </b>{this.props.fav.imdbRating}</h5>\r\n                <h5><b>Genre: </b>{this.props.fav.Genre}</h5>\r\n                <h5><b>Plot: </b>{this.props.fav.Plot}</h5>\r\n\r\n                <button id={this.props.fav.imdbID} type=\"button\" onClick={this.props.favDelHandler}>Remove</button>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Wishlist","import React, { Component } from 'react';\nimport './App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch, faHeart } from '@fortawesome/free-solid-svg-icons';\nimport MovieItem from './MovieItem.js';\nimport Wishlist from './Wishlist.js'\nimport Cookies from 'js-cookie'\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      movieTitle: '',\n      page: '',\n      numberOfPages: '',\n      currentID: 'tt0372784',\n      movies: [],\n      favs: [],\n      apikey: 'baec7aa6',\n      cookies: {},\n      wishlistOn: false,\n    }\n    this.searchHandler = this.searchHandler.bind(this);\n    this.updateInput = this.updateInput.bind(this);\n    this.loadMoreHandler = this.loadMoreHandler.bind(this)\n    this.generateWishlist = this.generateWishlist.bind(this)\n    this.favAddHandler = this.favAddHandler.bind(this)\n    this.favDelHandler = this.favDelHandler.bind(this)\n\n  }\n\n  //updating state with value from input \n  updateInput(e) {\n    this.setState({ movieTitle: e.target.value });\n  }\n\n  //button click / form submit management\n  searchHandler(e) {\n    e.preventDefault();\n    this.searchMovie(this.state.movieTitle)\n    this.setState({ wishlistOn: false })\n  }\n\n  //wishlist buttons\n  favAddHandler(e) {\n    e.preventDefault()\n    console.log(e.target.id)\n    Cookies.set(e.target.id, e.target.id, { expires: 7 })\n    this.generateWishlist()\n    console.log(this.state.favs)\n    console.log(this.state.movies)\n  }\n  favDelHandler(e) {\n    e.preventDefault()\n    console.log(e.target.id)\n    Cookies.remove(e.target.id)\n    this.generateWishlist()\n  }\n\n  //function for get data from API\n  searchMovie(movieTitle) {\n    fetch(`http://www.omdbapi.com/?apikey=${this.state.apikey}&s=${movieTitle}`)\n      .then(resp => resp.json())\n      .then(movieSearchResults => {\n        const result = movieSearchResults.Search;\n        let movies = []\n        this.setState({ page: 2 })\n        result.forEach((movie) => {\n          const movieItem = <MovieItem key={movie.imdbID} movie={movie} favAddHandler={this.favAddHandler} favDelHandler={this.favDelHandler} />\n          movies.push(movieItem)\n        })\n        this.setState({ movies, numberOfPages: Math.ceil(movieSearchResults.totalResults / 10) })\n\n      })\n      .catch(err => console.error(err));\n  }\n\n  loadMoreHandler() {\n    this.state.page < this.state.numberOfPages + 1 ? this.nextPageFunc() : console.log('no more movies')\n  }\n\n  //loading next pages from API\n  nextPageFunc() {\n    fetch(`http://www.omdbapi.com/?apikey=${this.state.apikey}&s=${this.state.movieTitle}&page=${this.state.page}`)\n      .then(resp => resp.json())\n      .then(movieSearchResults => {\n        console.log('click')\n        const result = movieSearchResults.Search;\n        let moreMovies = []\n        console.log(\"odpowiedz z API: \" + result)\n\n        result.forEach((movie) => {\n          const moreMovieItems = <MovieItem key={movie.imdbID} movie={movie} favAddHandler={this.favAddHandler} favDelHandler={this.favDelAddHandler} />\n          moreMovies.push(moreMovieItems)\n        })\n        this.setState({ movies: this.state.movies.concat(moreMovies), page: this.state.page + 1 })\n      })\n      .catch(err => console.error(err));\n  }\n\n  // generating wishlist based on movie-imdb-ID-number stored in cookies\n  generateWishlist() {\n    this.setState({ favs: [] });\n    (Object.values(Cookies.get())).forEach(movieID =>\n      fetch(`http://www.omdbapi.com/?apikey=${this.state.apikey}&i=${movieID}`)\n        .then(resp => resp.json())\n        .then(fav => {\n          console.log(fav)\n          let favItem = <Wishlist key={movieID} fav={fav} favAddHandler={this.favAddHandler} favDelHandler={this.favDelHandler} />\n          this.setState({ favs: this.state.favs.concat(favItem) })\n        })\n        .catch(err => console.error(err)),\n    )\n  }\n\n  wishlistVisibilityHandler() {\n    this.setState({ wishlistOn: !this.state.wishlistOn })\n    this.generateWishlist()\n  }\n\n  render() {\n\n    return (\n      <div className=\"App\">\n\n        <header className=\"App-header\">\n          <FontAwesomeIcon className=\"icon\" icon={faSearch} size=\"4x\" />\n          <span>OMDb Detective</span>\n          <FontAwesomeIcon className=\"icon\" icon={faHeart} size=\"4x\" onClick={this.wishlistVisibilityHandler.bind(this)} />\n        </header>\n\n\n        <form className=\"search-bar\" ref=\"form\" onSubmit={this.searchHandler}>\n          <input className=\"search-bar-input\" placeholder=\"Movie Title Here\" onChange={this.updateInput} />\n          <button type=\"submit\"><FontAwesomeIcon className=\"icon\" icon={faSearch} /></button>\n        </form>\n\n\n        <main className={this.state.wishlistOn ? \"movies wishlistOn\" : \"movies wishlistOf\"}>\n          {this.state.movies}\n\n          {/* // infinite scroll to be implemented instead of next results button*/}\n\n        </main>\n        <button className={this.state.wishlistOn ? \"moreButton wishlistOn\" : \"moreButton wishlistOf\"} type=\"button\" onClick={this.loadMoreHandler}><FontAwesomeIcon className=\"icon-bottom\" icon={faSearch} />   Load next 10</button>\n        <section className={this.state.wishlistOn ? \"movies wishlistOf\" : \"movies wishlistOn\"}>\n          {this.state.favs}\n\n        </section>\n\n        <footer className=\"footer\">\n\n        </footer>\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}