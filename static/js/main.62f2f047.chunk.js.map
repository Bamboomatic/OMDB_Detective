{"version":3,"sources":["MovieItem.js","Wishlist.js","App.js","index.js"],"names":["MovieItem","className","alt","src","this","props","movie","Poster","onError","e","target","onerror","Title","Year","id","imdbID","type","onClick","favAddHandler","React","Component","Wishlist","fav","Director","imdbRating","Genre","Plot","favDelHandler","App","state","movieTitle","page","numberOfPages","currentID","movies","favs","apikey","cookies","wishlistOn","searchHandler","bind","updateInput","loadMoreHandler","generateWishlist","setState","value","preventDefault","searchMovie","console","log","Cookies","set","expires","remove","fetch","then","resp","json","movieSearchResults","result","Search","forEach","movieItem","key","push","Math","ceil","totalResults","catch","err","error","nextPageFunc","moreMovies","moreMovieItems","favDelAddHandler","concat","Object","values","get","movieID","favItem","icon","faSearch","size","faHeart","wishlistVisibilityHandler","ref","onSubmit","placeholder","onChange","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.62f2f047.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nclass MovieItem extends React.Component {\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return <div className=\"movie\">\r\n            <img alt=\"movie poster\" src={this.props.movie.Poster} onError={(e) => { e.target.onerror = null; e.target.src = \"https://www.auro-3d.com/wp-content/uploads/2016/08/no-poster-available.jpg\" }} className=\"movie-poster\" />\r\n            <div className=\"movie-description\">\r\n                <h2>{this.props.movie.Title}</h2>\r\n                <h4>{this.props.movie.Year}</h4>\r\n                <button className=\"tooltip\" id={this.props.movie.imdbID} type=\"button\" onClick={this.props.favAddHandler}>Add to Wishlist</button>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default MovieItem","import React from 'react'\r\n\r\nclass Wishlist extends React.Component {\r\n\r\n    render() {\r\n        return <div className=\"fav-movie\">\r\n            <img alt=\"movie poster\" src={this.props.fav.Poster} onError={(e) => { e.target.onerror = null; e.target.src = \"https://www.auro-3d.com/wp-content/uploads/2016/08/no-poster-available.jpg\" }} className=\"fav-movie-poster\" />\r\n            <div className=\"fav-movie-description\">\r\n                <h3>{this.props.fav.Title}</h3>\r\n                <h5>{this.props.fav.Year}</h5>\r\n                <h5><b>Director: </b>{this.props.fav.Director}</h5>\r\n                <h5><b>IMDB rating: </b>{this.props.fav.imdbRating}</h5>\r\n                <h5><b>Genre: </b>{this.props.fav.Genre}</h5>\r\n                <h5><b>Plot: </b>{this.props.fav.Plot}</h5>\r\n\r\n                <button id={this.props.fav.imdbID} type=\"button\" onClick={this.props.favDelHandler}>Remove</button>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Wishlist","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSearch, faHeart } from '@fortawesome/free-solid-svg-icons';\r\nimport MovieItem from './MovieItem.js';\r\nimport Wishlist from './Wishlist.js'\r\nimport Cookies from 'js-cookie'\r\n\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      movieTitle: '',\r\n      page: '',\r\n      numberOfPages: '',\r\n      currentID: 'tt0372784',\r\n      movies: [],\r\n      favs: [],\r\n      apikey: 'baec7aa6',\r\n      cookies: {},\r\n      wishlistOn: false,\r\n    }\r\n    this.searchHandler = this.searchHandler.bind(this);\r\n    this.updateInput = this.updateInput.bind(this);\r\n    this.loadMoreHandler = this.loadMoreHandler.bind(this)\r\n    this.generateWishlist = this.generateWishlist.bind(this)\r\n    this.favAddHandler = this.favAddHandler.bind(this)\r\n    this.favDelHandler = this.favDelHandler.bind(this)\r\n\r\n  }\r\n\r\n  //updating state with value from input \r\n  updateInput(e) {\r\n    this.setState({ movieTitle: e.target.value });\r\n  }\r\n\r\n  //button click / form submit management\r\n  searchHandler(e) {\r\n    e.preventDefault();\r\n    this.searchMovie(this.state.movieTitle)\r\n    this.setState({ wishlistOn: false })\r\n  }\r\n\r\n  //wishlist buttons\r\n  favAddHandler(e) {\r\n    e.preventDefault()\r\n    console.log(e.target.id)\r\n    Cookies.set(e.target.id, e.target.id, { expires: 7 })\r\n    this.generateWishlist()\r\n    console.log(this.state.favs)\r\n    console.log(this.state.movies)\r\n  }\r\n  favDelHandler(e) {\r\n    e.preventDefault()\r\n    console.log(e.target.id)\r\n    Cookies.remove(e.target.id)\r\n    this.generateWishlist()\r\n  }\r\n\r\n  //function for get data from API\r\n  searchMovie(movieTitle) {\r\n    fetch(`https://www.omdbapi.com/?apikey=${this.state.apikey}&s=${movieTitle}`)\r\n      .then(resp => resp.json())\r\n      .then(movieSearchResults => {\r\n        const result = movieSearchResults.Search;\r\n        let movies = []\r\n        this.setState({ page: 2 })\r\n        result.forEach((movie) => {\r\n          const movieItem = <MovieItem key={movie.imdbID} movie={movie} favAddHandler={this.favAddHandler} favDelHandler={this.favDelHandler} />\r\n          movies.push(movieItem)\r\n        })\r\n        this.setState({ movies, numberOfPages: Math.ceil(movieSearchResults.totalResults / 10) })\r\n\r\n      })\r\n      .catch(err => console.error(err));\r\n  }\r\n\r\n  loadMoreHandler() {\r\n    this.state.page < this.state.numberOfPages + 1 ? this.nextPageFunc() : console.log('no more movies')\r\n  }\r\n\r\n  //loading next pages from API\r\n  nextPageFunc() {\r\n    fetch(`https://www.omdbapi.com/?apikey=${this.state.apikey}&s=${this.state.movieTitle}&page=${this.state.page}`)\r\n      .then(resp => resp.json())\r\n      .then(movieSearchResults => {\r\n        console.log('click')\r\n        const result = movieSearchResults.Search;\r\n        let moreMovies = []\r\n        console.log(\"odpowiedz z API: \" + result)\r\n\r\n        result.forEach((movie) => {\r\n          const moreMovieItems = <MovieItem key={movie.imdbID} movie={movie} favAddHandler={this.favAddHandler} favDelHandler={this.favDelAddHandler} />\r\n          moreMovies.push(moreMovieItems)\r\n        })\r\n        this.setState({ movies: this.state.movies.concat(moreMovies), page: this.state.page + 1 })\r\n      })\r\n      .catch(err => console.error(err));\r\n  }\r\n\r\n  // generating wishlist based on movie-imdb-ID-number stored in cookies\r\n  generateWishlist() {\r\n    this.setState({ favs: [] });\r\n    (Object.values(Cookies.get())).forEach(movieID =>\r\n      fetch(`https://www.omdbapi.com/?apikey=${this.state.apikey}&i=${movieID}`)\r\n        .then(resp => resp.json())\r\n        .then(fav => {\r\n          console.log(fav)\r\n          let favItem = <Wishlist key={movieID} fav={fav} favAddHandler={this.favAddHandler} favDelHandler={this.favDelHandler} />\r\n          this.setState({ favs: this.state.favs.concat(favItem) })\r\n        })\r\n        .catch(err => console.error(err)),\r\n    )\r\n  }\r\n\r\n  wishlistVisibilityHandler() {\r\n    this.setState({ wishlistOn: !this.state.wishlistOn })\r\n    this.generateWishlist()\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"App\">\r\n\r\n        <header className=\"App-header\">\r\n          <FontAwesomeIcon className=\"icon\" icon={faSearch} size=\"4x\" />\r\n          <span>OMDb Detective</span>\r\n          <FontAwesomeIcon className=\"icon\" icon={faHeart} size=\"4x\" onClick={this.wishlistVisibilityHandler.bind(this)} />\r\n        </header>\r\n\r\n\r\n        <form className=\"search-bar\" ref=\"form\" onSubmit={this.searchHandler}>\r\n          <input className=\"search-bar-input\" placeholder=\"Movie Title Here\" onChange={this.updateInput} />\r\n          <button type=\"submit\"><FontAwesomeIcon className=\"icon\" icon={faSearch} /></button>\r\n        </form>\r\n\r\n\r\n        <main className={this.state.wishlistOn ? \"movies wishlistOn\" : \"movies wishlistOf\"}>\r\n          {this.state.movies}\r\n\r\n          {/* // infinite scroll to be implemented instead of next results button*/}\r\n\r\n        </main>\r\n        <button className={this.state.wishlistOn ? \"moreButton wishlistOn\" : \"moreButton wishlistOf\"} type=\"button\" onClick={this.loadMoreHandler}><FontAwesomeIcon className=\"icon-bottom\" icon={faSearch} />   Load next 10</button>\r\n        <section className={this.state.wishlistOn ? \"movies wishlistOf\" : \"movies wishlistOn\"}>\r\n          {this.state.favs}\r\n\r\n        </section>\r\n\r\n        <footer className=\"footer\">\r\n\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}